# Quasalang CLI

> Generate all your Quasar i18n language files from a CSV file


Quasalang is a global CLI tool that allows you to generate all your i18n language files (including the main index.js file) instantly from a single, easy to update CSV file.

It will also generate a sample CSV file for you, so you can easily get started.

You can also organise your phrases with empty lines & comments.

## Contents

- [Quasalang CLI](#quasalang-cli)
  - [Contents](#contents)
  - [Getting Started](#getting-started)
    - [Step 1: Install globally](#step-1-install-globally)
    - [Step 2: Generate a Sample CSV file](#step-2-generate-a-sample-csv-file)
    - [Step 3: Add your own languages & translations](#step-3-add-your-own-languages--translations)
    - [Step 4: Generate your language files](#step-4-generate-your-language-files)
  - [Options](#options)
    - [Input Path](#input-path)
    - [Output Path](#output-path)
    - [Force Write](#force-write)
    - [No Watermark](#no-watermark)
    - [Watch for changes](#watch-for-changes)
  - [Use Empty Rows to Split Up Your Phrases](#use-empty-rows-to-split-up-your-phrases)
  - [Use Comments to Organise your Phrases](#use-comments-to-organise-your-phrases)
  - [Use Strings as Your Keys](#use-strings-as-your-keys)
  - [Add Multi-Line Phrases](#add-multi-line-phrases)
  - [Generate language switcher array code](#generate-language-switcher-array-code)
  - [Search and List i18n Locale Codes](#search-and-list-i18n-locale-codes)
  - [Commands](#commands)
    - [`generate`](#generate)
    - [`create-csv`](#create-csv)
    - [`lang-switcher`](#lang-switcher)
    - [`list-codes`](#list-codes)

## Getting Started

### Step 1: Install globally
```bash
$ npm install -g quasalang
```

Once installed, get yourself to the root of a Quasar project

```bash
$ cd my-quasar-project
```

### Step 2: Generate a Sample CSV file
```bash
$ quasalang create-csv
```

This will generate a CSV file at `/translations.csv` that looks like this:

| Key     | English, en-US | French, fr | German, de      |
|---------|----------------|------------|-----------------|
| hello   | Hello          | Bonjour    | Hallo           |
| goodbye | Goodbye        | Au revoir  | Auf Wiedersehen |
| thanks  | Thanks         | Merci      | Danke           |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de"
  hello,"Hello","Bonjour","Hallo"
  goodbye,"Goodbye","Au revoir","Auf Wiedersehen"
  thanks,"Thanks","Merci","Danke"
  ```
</details>

### Step 3: Add your own languages & translations

Use a CSV editor (such as the [VSCode Extension "Edit csv"](https://marketplace.visualstudio.com/items?itemName=janisdd.vscode-edit-csv)) to add your own languages & phrases.

**Be sure to use the format** `Language, code` in the header row e.g. `Russian, ru`:

| Key      | English, en-US | French, fr          | German, de      | Russian, ru     |
|----------|----------------|---------------------|-----------------|-----------------|
| hello    | Hello          | Bonjour             | Hallo           | Привет          |
| goodbye  | Goodbye        | Au revoir           | Auf Wiedersehen | До свидания     |
| thanks   | Thanks         | Merci               | Danke           | Спасибо         |
| buttHair | Butt hair      | Cheveux bout à bout | Hintern Haare   | стыковые волосы |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de","Russian, ru"
  hello,"Hello","Bonjour","Hallo",Привет
  goodbye,"Goodbye","Au revoir","Auf Wiedersehen",До свидания
  thanks,"Thanks","Merci","Danke",Спасибо
  buttHair,"Butt hair","Cheveux bout à bout","Hintern Haare",стыковые волосы
  ```
</details>

### Step 4: Generate your language files

Generate all the language files you need based on your CSV:

```bash
$ quasalang generate
```

By default, this will generate (or overwrite) your `/src/i18n` folder, generating all the files and folders you need:

```
src/
├─ i18n/
│  ├─ de/
│  │  ├─ index.js
│  ├─ en-US/
│  │  ├─ index.js
│  ├─ fr/
│  │  ├─ index.js
│  ├─ ru/
│  │  ├─ index.js
│  ├─ index.js
```

Your main index file `/src/i18n/index.js` will look like this:

```javascript
// This file was auto-generated by Quasalang

import enUS from './en-US'
import fr from './fr'
import de from './de'
import ru from './ru'

export default { 
  'en-US': enUS, // English
  'fr': fr, // French
  'de': de, // German
  'ru': ru, // Russian
}
```

And your language files, e.g. `/src/i18n/ru/index.js` will look like this:

```javascript
// Russian, ru
// This file was auto-generated by Quasalang

export default {
  hello: `Привет`,
  goodbye: `До свидания`,
  thanks: `Спасибо`,
  buttHair: `стыковые волосы`,
}
```

## Options

### Input Path

The default input path is `/translations.csv` but you can change it if you like:

```bash
$ quasalang generate --input /files/my-translations.csv
```

Or use the shorthand:

```bash
$ quasalang g -i /files/my-translations.csv
```

### Output Path

The default output path is `/src/i18n` but you can change it if you like:

```bash
$ quasalang generate --output /src/my-translations
```

Or use the shorthand:

```bash
$ quasalang g -o /src/my-translations
```

### Force Write

By default, if the output folder exists, you'll be prompted to overwrite it:

```bash
? Folder src/i18n exists. Overwrite it? (Y/n) 
```

You can skip this prompt if you like:

```bash
$ quasalang generate --force
```

Or use the shorthand:

```bash
$ quasalang g -f
```

### No Watermark

By default, Quasalang will add a watermark to your files:

```javascript
// This file was auto-generated by Quasalang
```

You can disable this if you like:

```bash
$ quasalang generate --nowatermark
```

Or use the shorthand:

```bash
$ quasalang g -nw
```

### Watch for changes

You can watch for changes to your translation file and auto-regenerate your language files. You can then just leave it running in the background and forget about it:

```bash
$ quasalang generate --watch
```

Or use the shorthand:

```bash
$ quasalang g -w
```


## Use Empty Rows to Split Up Your Phrases

You can leave empty rows in your CSV file, like this:

| Key      | English, en-US | French, fr          | German, de      | Russian, ru     |
|----------|----------------|---------------------|-----------------|-----------------|
| &nbsp;   |                |                     |                 |                 |
| hello    | Hello          | Bonjour             | Hallo           | Привет          |
| goodbye  | Goodbye        | Au revoir           | Auf Wiedersehen | До свидания     |
| thanks   | Thanks         | Merci               | Danke           | Спасибо         |
| &nbsp;   |                |                     |                 |                 |
| buttHair | Butt hair      | Cheveux bout à bout | Hintern Haare   | стыковые волосы |
| &nbsp;   |                |                     |                 |                 |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de","Russian, ru"
  ,,,,
  hello,"Hello","Bonjour","Hallo",Привет
  goodbye,"Goodbye","Au revoir","Auf Wiedersehen",До свидания
  thanks,"Thanks","Merci","Danke",Спасибо
  ,,,,
  buttHair,"Butt hair","Cheveux bout à bout","Hintern Haare",стыковые волосы
  ,,,,
  ```
</details>

And this will generate equivalent empty lines in your generated language files:

```javascript
// Russian, ru
// This file was auto-generated by Quasalang

export default {

  hello: `Привет`,
  goodbye: `До свидания`,
  thanks: `Спасибо`,
  
  buttHair: `стыковые волосы`,

}
```

## Use Comments to Organise your Phrases

You can add comments to your CSV file to create sections like this:

| Key            | English, en-US | French, fr          | German, de      | Russian, ru     |
|----------------|----------------|---------------------|-----------------|-----------------|
| &nbsp;         |                |                     |                 |                 |
| `# Greetings`    |                |                     |                 |                 |
| hello          | Hello          | Bonjour             | Hallo           | Привет          |
| goodbye        | Goodbye        | Au revoir           | Auf Wiedersehen | До свидания     |
| thanks         | Thanks         | Merci               | Danke           | Спасибо         |
| &nbsp;         |                |                     |                 |                 |
| `# Hair Related` |                |                     |                 |                 |
| buttHair       | Butt hair      | Cheveux bout à bout | Hintern Haare   | стыковые волосы |
| &nbsp;         |                |                     |                 |                 |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de","Russian, ru"
  ,,,,
  # Greetings
  hello,"Hello","Bonjour","Hallo",Привет
  goodbye,"Goodbye","Au revoir","Auf Wiedersehen",До свидания
  thanks,"Thanks","Merci","Danke",Спасибо
  ,,,,
  # Hair Related
  buttHair,"Butt hair","Cheveux bout à bout","Hintern Haare",стыковые волосы
  ,,,,
  ```
</details>

And this will add equivalent comments to your generated files:

```javascript
// Russian, ru
// This file was auto-generated by Quasalang

export default {

  // Greetings
  hello: `Привет`,
  goodbye: `До свидания`,
  thanks: `Спасибо`,
  
  // Hair Related
  buttHair: `стыковые волосы`,

}
```

## Use Strings as Your Keys

If you want to use strings as your keys, just surround your keys in double quotes:

| Key           | English, en-US | French, fr | German, de      |
|---------------|----------------|------------|-----------------|
| **"Hello"**   | Hello          | Bonjour    | Hallo           |
| **"Goodbye"** | Goodbye        | Au revoir  | Auf Wiedersehen |
| **"Thanks"**  | Thanks         | Merci      | Danke           |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de"
  """Hello""","Hello","Bonjour","Hallo"
  """Goodbye""","Goodbye","Au revoir","Auf Wiedersehen"
  """Thanks""","Thanks","Merci","Danke"
  ```
</details>

This will generate language files like this:

```javascript
// French, fr
// This file was auto-generated by Quasalang

export default {
  "Hello": `Bonjour`,
  "Goodbye": `Au revoir`,
  "Thanks": `Merci`,
}
```

## Add Multi-Line Phrases

You can add multi-line phrases, like in the last row here:

| Key     | English, en-US                                         | French, fr                                                     | German, de                                               |
|---------|--------------------------------------------------------|----------------------------------------------------------------|----------------------------------------------------------|
| hello   | Hello                                                  | Bonjour                                                        | Hallo                                                    |
| goodbye | Goodbye                                                | Au revoir                                                      | Auf Wiedersehen                                          |
| thanks  | Thanks                                                 | Merci                                                          | Danke                                                    |
| welcome | Hey there...<br>Welcome to the app!...<br><br>Hope you like it! | Salut...<br>Bienvenue dans l'appli! ...<br><br>J'espère que vous aimez! | Sie da...<br>Willkommen in der App! ...<br><br>Hoffe du magst es! |

<details>
  <summary>View Source</summary>

  ```csv
  Key,"English, en-US","French, fr","German, de"
  hello,"Hello","Bonjour","Hallo"
  goodbye,"Goodbye","Au revoir","Auf Wiedersehen"
  thanks,"Thanks","Merci","Danke"
  welcome,"Hey there...
  Welcome to the app!...

  Hope you like it!","Salut...
  Bienvenue dans l'appli! ...

  J'espère que vous aimez!","Sie da...
  Willkommen in der App! ...

  Hoffe du magst es!"
  ```
</details>

This will generate language files like this:

```javascript
// English, en-US
// This file was auto-generated by Quasalang

export default {
  hello: `Hello`,
  goodbye: `Goodbye`,
  thanks: `Thanks`,
  welcome: `Hey there...
Welcome to the app!...

Hope you like it!`,
}
```

## Generate language switcher array code

You can generate the code for your language switcher array (based on your CSV):

```bash
$ quasalang lang-switcher
```

Or the shorthand:

```bash
$ quasalang ls
```

This will output something like this to the console:

```javascript
Your language switcher options array:

[
  { label: 'English', value: 'en-US' },
  { label: 'French', value: 'fr' },
  { label: 'German', value: 'de' }
]
```

You can also run this command automatically when you use the `generate` command to generate your language files:

```bash
$ quasalang generate --lang-switcher
```

Or the shorthand:

```bash
$ quasalang g -ls
```

The output will be something like this
```
Wrote 4 files:
┌─────────┬───────────────────┬─────────┬───────────────────────────┐
│ (index) │       File        │  Code   │           Path            │
├─────────┼───────────────────┼─────────┼───────────────────────────┤
│    0    │ 'Main index file' │   ''    │    'src/i18n/index.js'    │
│    1    │     'English'     │ 'en-US' │ 'src/i18n/en-US/index.js' │
│    2    │     'French'      │  'fr'   │  'src/i18n/fr/index.js'   │
│    3    │     'German'      │  'de'   │  'src/i18n/de/index.js'   │
└─────────┴───────────────────┴─────────┴───────────────────────────┘

Your language switcher options array:

[
  { label: 'English', value: 'en-US' },
  { label: 'French', value: 'fr' },
  { label: 'German', value: 'de' }
]
```

## Search and List i18n Locale Codes

Don't know the locale code for a language? Just search for it:

```bash
$ quasalang list-codes

? Enter a search query (e.g. "russian") or hit Enter to list all codes: italian


  _____ 
 |_   _|
   | |  
   | |  
  _| |_ 
 |_____|
        
        
Italian, it
Italian (Italy), it_IT
Italian (Switzerland), it_CH
```

Or just hit enter to list them all:

```bash
           
     /\    
    /  \   
   / /\ \  
  / ____ \ 
 /_/    \_\
           
           
Afrikaans, af
Afrikaans (Namibia), af_NA
Afrikaans (South Africa), af_ZA
Akan, ak
Akan (Ghana), ak_GH
Albanian, sq
Albanian (Albania), sq_AL
Amharic, am
Amharic (Ethiopia), am_ET
Arabic, ar
Arabic (Algeria), ar_DZ
Arabic (Bahrain), ar_BH
Arabic (Egypt), ar_EG
Arabic (Iraq), ar_IQ
Arabic (Jordan), ar_JO
Arabic (Kuwait), ar_KW
Arabic (Lebanon), ar_LB
Arabic (Libya), ar_LY
Arabic (Morocco), ar_MA
Arabic (Oman), ar_OM
Arabic (Qatar), ar_QA
Arabic (Saudi Arabia), ar_SA
Arabic (Sudan), ar_SD
Arabic (Syria), ar_SY
Arabic (Tunisia), ar_TN
Arabic (United Arab Emirates), ar_AE
Arabic (Yemen), ar_YE
Armenian, hy
Armenian (Armenia), hy_AM
Assamese (India), as_IN
Assamese, as
Asu, asa
Asu (Tanzania), asa_TZ
Azerbaijani, az
Azerbaijani (Cyrillic), az_Cyrl
Azerbaijani (Cyrillic, Azerbaijan), az_Cyrl_AZ
Azerbaijani (Latin), az_Latn
Azerbaijani (Latin, Azerbaijan), az_Latn_AZ


  ____  
 |  _ \ 
 | |_) |
 |  _ < 
 | |_) |
 |____/ 
        
        
Bambara, bm
Bambara (Mali), bm_ML
Basque, eu
Basque (Spain), eu_ES

... etc ...
```

You can then copy and paste your language name and code straight into your CSV column header.

## Commands

### `generate`

```
Usage: quasalang generate|g [options]

Generate your i18n folder & all language files based on a CSV file

Options:
  -i, --input <mode>    Path to input CSV (default: "translations.csv")
  -o, --output <mode>   Path to i18n output folder (default: "src/i18n")
  -f, --force           Force write files (without prompt) (default: false)
  -nw, --nowatermark    Disable the watermark ("This file was auto-generated..")  (default:
                        false)
  -ls, --lang-switcher  Generate language switcher options array & output to console i.e. [{
                        label: 'English', value: 'en-US'}, ..] (default: false)
  -w, --watch           Watch CSV file for changes & regenerate files (default: false)
  -h, --help            display help for command
```

### `create-csv`

```
Usage: quasalang create-csv|c [options]

Create a sample CSV file (/translations.csv)

Options:
  -f, --force  Force overwrite translations file (without prompt) (default: false)
  -h, --help   display help for command
```

### `lang-switcher`

```
Usage: quasalang lang-switcher|ls [options]

Generate language switcher options array & output to console i.e. [{ label: 'English', value: 'en-US'}, ..]

Options:
  -i, --input <mode>  Path to input CSV (default: "translations.csv")
  -h, --help          display help for command
```

### `list-codes`

```
Usage: quasalang list-codes|lc [options]

Search & list i18n locale codes

Options:
  -h, --help  display help for command
```


